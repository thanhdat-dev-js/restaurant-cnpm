/*
 Highmaps JS v9.3.0 (2021-10-21)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(x){c(x);c.Highcharts=x;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function x(c,p,q,n){c.hasOwnProperty(p)||(c[p]=n.apply(null,q))}c=c?c._modules:{};x(c,"Core/Axis/Color/ColorAxisComposition.js",[c["Core/Color/Color.js"],c["Core/Utilities.js"]],function(c,p){var q=c.parse,
n=p.addEvent,t=p.extend,k=p.merge,e=p.pick,b=p.splat,g;(function(g){function m(){var a=this,l=this.options;this.colorAxis=[];l.colorAxis&&(l.colorAxis=b(l.colorAxis),l.colorAxis.forEach(function(l,d){l.index=d;new B(a,l)}))}function a(a){var l=this,d=function(d){d=a.allItems.indexOf(d);-1!==d&&(l.destroyItem(a.allItems[d]),a.allItems.splice(d,1))},w=[],f,u;(this.chart.colorAxis||[]).forEach(function(a){(f=a.options)&&f.showInLegend&&(f.dataClasses&&f.visible?w=w.concat(a.getDataClassLegendSymbols()):
f.visible&&w.push(a),a.series.forEach(function(a){if(!a.options.showInLegend||f.dataClasses)"point"===a.options.legendType?a.points.forEach(function(a){d(a)}):d(a)}))});for(u=w.length;u--;)a.allItems.unshift(w[u])}function d(a){a.visible&&a.item.legendColor&&a.item.legendSymbol.attr({fill:a.item.legendColor})}function f(){var a=this.chart.colorAxis;a&&a.forEach(function(a,l,d){a.update({},d)})}function r(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}
function y(){var a=this.axisTypes;a?-1===a.indexOf("colorAxis")&&a.push("colorAxis"):this.axisTypes=["colorAxis"]}function v(a){var l=this,d=a?"show":"hide";l.visible=l.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(l[a])l[a][d]()});this.series.buildKDTree()}function h(){var a=this,l=this.options.nullColor,d=this.colorAxis,w=this.colorKey;(this.data.length?this.data:this.points).forEach(function(f){var u=f.getNestedProperty(w);(u=f.options.color||(f.isNull||null===f.value?l:d&&
"undefined"!==typeof u?d.toColor(u,f):f.color||a.color))&&f.color!==u&&(f.color=u,"point"===a.options.legendType&&f.legendItem&&a.chart.legend.colorizeItem(f,f.visible))})}function u(a){var l=a.prototype.createAxis;a.prototype.createAxis=function(a,d){if("colorAxis"!==a)return l.apply(this,arguments);var f=new B(this,k(d.axis,{index:this[a].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(a){a.series=[]});this.series.forEach(function(a){a.bindAxes();a.isDirtyData=!0});e(d.redraw,
!0)&&this.redraw(d.animation);return f}}function z(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function w(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var l=[],B;g.compose=function(b,g,e,A,c){B||(B=b);-1===l.indexOf(g)&&(l.push(g),b=g.prototype,b.collectionsWithUpdate.push("colorAxis"),b.collectionsWithInit.colorAxis=[b.addColorAxis],n(g,"afterGetAxes",m),u(g));-1===l.indexOf(e)&&(l.push(e),g=e.prototype,g.fillSetter=z,g.strokeSetter=
w);-1===l.indexOf(A)&&(l.push(A),n(A,"afterGetAllItems",a),n(A,"afterColorizeItem",d),n(A,"afterUpdate",f));-1===l.indexOf(c)&&(l.push(c),t(c.prototype,{optionalAxis:"colorAxis",translateColors:h}),t(c.prototype.pointClass.prototype,{setVisible:v}),n(c,"afterTranslate",r),n(c,"bindAxes",y))};g.pointSetVisible=v})(g||(g={}));return g});x(c,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,
offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});x(c,"Core/Axis/Color/ColorAxis.js",[c["Core/Axis/Axis.js"],c["Core/Color/Color.js"],c["Core/Axis/Color/ColorAxisComposition.js"],c["Core/Axis/Color/ColorAxisDefaults.js"],c["Core/Globals.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p,q,n,t,k,e,b){var g=this&&this.__extends||
function(){var a=function(d,f){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var l in d)d.hasOwnProperty(l)&&(a[l]=d[l])};return a(d,f)};return function(d,f){function u(){this.constructor=d}a(d,f);d.prototype=null===f?Object.create(f):(u.prototype=f.prototype,new u)}}(),v=p.parse,m=t.noop,a=e.series,d=b.extend,f=b.isNumber,r=b.merge,y=b.pick;p=function(b){function h(a,d){var f=b.call(this,a,d)||this;f.beforePadding=!1;f.chart=void 0;f.coll=
"colorAxis";f.dataClasses=void 0;f.legendItem=void 0;f.legendItems=void 0;f.name="";f.options=void 0;f.stops=void 0;f.visible=!0;f.init(a,d);return f}g(h,b);h.compose=function(a,d,f,l){q.compose(h,a,d,f,l)};h.prototype.init=function(a,d){var f=a.options.legend||{},l=d.layout?"vertical"!==d.layout:"vertical"!==f.layout,u=d.visible;f=r(h.defaultColorAxisOptions,d,{showEmpty:!1,title:null,visible:f.enabled&&!1!==u});this.coll="colorAxis";this.side=d.side||l?2:1;this.reversed=d.reversed||!l;this.opposite=
!l;b.prototype.init.call(this,a,f);this.userOptions.visible=u;d.dataClasses&&this.initDataClasses(d);this.initStops();this.horiz=l;this.zoomEnabled=!1};h.prototype.initDataClasses=function(a){var d=this.chart,f=this.options,l=a.dataClasses.length,b,u=0,h=d.options.chart.colorCount;this.dataClasses=b=[];this.legendItems=[];(a.dataClasses||[]).forEach(function(a,w){a=r(a);b.push(a);if(d.styledMode||!a.color)"category"===f.dataClassColor?(d.styledMode||(w=d.options.colors,h=w.length,a.color=w[u]),a.colorIndex=
u,u++,u===h&&(u=0)):a.color=v(f.minColor).tweenTo(v(f.maxColor),2>l?.5:w/(l-1))})};h.prototype.hasData=function(){return!!(this.tickPositions||[]).length};h.prototype.setTickPositions=function(){if(!this.dataClasses)return b.prototype.setTickPositions.call(this)};h.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(a){a.color=v(a[1])})};h.prototype.setOptions=function(a){b.prototype.setOptions.call(this,a);
this.options.crosshair=this.options.marker};h.prototype.setAxisSize=function(){var a=this.legendSymbol,d=this.chart,f=d.options.legend||{},l,b;a?(this.left=f=a.attr("x"),this.top=l=a.attr("y"),this.width=b=a.attr("width"),this.height=a=a.attr("height"),this.right=d.chartWidth-f-b,this.bottom=d.chartHeight-l-a,this.len=this.horiz?b:a,this.pos=this.horiz?f:l):this.len=(this.horiz?f.symbolWidth:f.symbolHeight)||h.defaultLegendLength};h.prototype.normalizedValue=function(a){this.logarithmic&&(a=this.logarithmic.log2lin(a));
return 1-(this.max-a)/(this.max-this.min||1)};h.prototype.toColor=function(a,d){var f=this.dataClasses,l=this.stops,b;if(f)for(b=f.length;b--;){var u=f[b];var h=u.from;l=u.to;if(("undefined"===typeof h||a>=h)&&("undefined"===typeof l||a<=l)){var r=u.color;d&&(d.dataClass=b,d.colorIndex=u.colorIndex);break}}else{a=this.normalizedValue(a);for(b=l.length;b--&&!(a>l[b][0]););h=l[b]||l[b+1];l=l[b+1]||h;a=1-(l[0]-a)/(l[0]-h[0]||1);r=h.color.tweenTo(l.color,a)}return r};h.prototype.getOffset=function(){var a=
this.legendGroup,d=this.chart.axisOffset[this.side];a&&(this.axisParent=a,b.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=d)};h.prototype.setLegendColor=function(){var a=this.reversed,d=a?1:0;a=a?0:1;d=this.horiz?[d,0,a,0]:[0,a,0,d];this.legendColor={linearGradient:{x1:d[0],y1:d[1],x2:d[2],y2:d[3]},stops:this.stops}};h.prototype.drawLegendSymbol=function(a,d){var f=a.padding,l=a.options,b=this.horiz,r=y(l.symbolWidth,
b?h.defaultLegendLength:12),u=y(l.symbolHeight,b?12:h.defaultLegendLength),g=y(l.labelPadding,b?16:30);l=y(l.itemDistance,10);this.setLegendColor();d.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,r,u).attr({zIndex:1}).add(d.legendGroup);this.legendItemWidth=r+f+(b?l:g);this.legendItemHeight=u+f+(b?g:0)};h.prototype.setState=function(a){this.series.forEach(function(d){d.setState(a)})};h.prototype.setVisible=function(){};h.prototype.getSeriesExtremes=function(){var d=this.series,f=d.length,
b;this.dataMin=Infinity;for(this.dataMax=-Infinity;f--;){var l=d[f];var h=l.colorKey=y(l.options.colorKey,l.colorKey,l.pointValKey,l.zoneAxis,"y");var r=l.pointArrayMap;var g=l[h+"Min"]&&l[h+"Max"];if(l[h+"Data"])var m=l[h+"Data"];else if(r){m=[];r=r.indexOf(h);var e=l.yData;if(0<=r&&e)for(b=0;b<e.length;b++)m.push(y(e[b][r],e[b]))}else m=l.yData;g?(l.minColorValue=l[h+"Min"],l.maxColorValue=l[h+"Max"]):(m=a.prototype.getExtremes.call(l,m),l.minColorValue=m.dataMin,l.maxColorValue=m.dataMax);"undefined"!==
typeof l.minColorValue&&(this.dataMin=Math.min(this.dataMin,l.minColorValue),this.dataMax=Math.max(this.dataMax,l.maxColorValue));g||a.prototype.applyExtremes.call(l)}};h.prototype.drawCrosshair=function(a,d){var f=d&&d.plotX,l=d&&d.plotY,h=this.pos,r=this.len;if(d){var u=this.toPixels(d.getNestedProperty(d.series.colorKey));u<h?u=h-2:u>h+r&&(u=h+r+2);d.plotX=u;d.plotY=this.len-u;b.prototype.drawCrosshair.call(this,a,d);d.plotX=f;d.plotY=l;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&
(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};h.prototype.getPlotLinePath=function(a){var d=this.left,h=a.translatedValue,l=this.top;return f(h)?this.horiz?[["M",h-4,l-6],["L",h+4,l-6],["L",h,l],["Z"]]:[["M",d,h],["L",d-6,h+6],["L",d-6,h-6],["Z"]]:b.prototype.getPlotLinePath.call(this,a)};h.prototype.update=function(a,d){var f=this.chart.legend;
this.series.forEach(function(a){a.isDirtyData=!0});(a.dataClasses&&f.allItems||this.dataClasses)&&this.destroyItems();b.prototype.update.call(this,a,d);this.legendItem&&(this.setLegendColor(),f.colorizeItem(this,!0))};h.prototype.destroyItems=function(){var a=this.chart;this.legendItem?a.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(d){a.legend.destroyItem(d)});a.isDirtyLegend=!0};h.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();b.prototype.destroy.apply(this,
[].slice.call(arguments))};h.prototype.remove=function(a){this.destroyItems();b.prototype.remove.call(this,a)};h.prototype.getDataClassLegendSymbols=function(){var a=this,f=a.chart,b=a.legendItems,l=f.options.legend,h=l.valueDecimals,r=l.valueSuffix||"",g;b.length||a.dataClasses.forEach(function(l,w){var u=l.from,e=l.to,v=f.numberFormatter,y=!0;g="";"undefined"===typeof u?g="< ":"undefined"===typeof e&&(g="> ");"undefined"!==typeof u&&(g+=v(u,h)+r);"undefined"!==typeof u&&"undefined"!==typeof e&&
(g+=" - ");"undefined"!==typeof e&&(g+=v(e,h)+r);b.push(d({chart:f,name:g,options:{},drawLegendSymbol:k.drawRectangle,visible:!0,setState:m,isDataClass:!0,setVisible:function(){y=a.visible=!y;a.series.forEach(function(a){a.points.forEach(function(a){a.dataClass===w&&a.setVisible(y)})});f.legend.colorizeItem(this,y)}},l))});return b};h.defaultColorAxisOptions=n;h.defaultLegendLength=200;h.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return h}(c);Array.prototype.push.apply(c.keepProps,
p.keepProps);"";return p});x(c,"Maps/MapNavigationOptionsDefault.js",[c["Core/DefaultOptions.js"],c["Core/Utilities.js"]],function(c,p){p=p.extend;var q={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};p(c.defaultOptions.lang,
{zoomIn:"Zoom in",zoomOut:"Zoom out"});return c.defaultOptions.mapNavigation=q});x(c,"Maps/MapNavigation.js",[c["Core/Chart/Chart.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,p,q){function n(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function t(a){this.init(a)}var k=p.doc,e=q.addEvent,b=q.extend,g=q.merge,v=q.objectEach,m=q.pick;t.prototype.init=function(a){this.chart=a;a.mapNavButtons=[]};t.prototype.update=function(a){var d=
this.chart,f=d.options.mapNavigation,r,y,c,h,u=function(a){this.handler.call(d,a);n(a)},z=d.mapNavButtons;a&&(f=d.options.mapNavigation=g(d.options.mapNavigation,a));for(;z.length;)z.pop().destroy();m(f.enableButtons,f.enabled)&&!d.renderer.forExport&&v(f.buttons,function(a,l){a=g(f.buttonOptions,a);!d.styledMode&&a.theme&&(r=a.theme,r.style=g(a.theme.style,a.style),c=(y=r.states)&&y.hover,h=y&&y.select,delete r.states);var m=d.renderer.button(a.text||"",0,0,u,r,c,h,void 0,"zoomIn"===l?"topbutton":
"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[l]).attr({width:a.width,height:a.height,title:d.options.lang[l],padding:a.padding,zIndex:5}).add();m.handler=a.onclick;e(m.element,"dblclick",n);z.push(m);b(a,{width:m.width,height:2*m.height});if(d.hasLoaded)m.align(a,!1,a.alignTo);else var w=e(d,"load",function(){m.element&&m.align(a,!1,a.alignTo);w()})});this.updateEvents(f)};t.prototype.updateEvents=function(a){var d=this.chart;m(a.enableDoubleClickZoom,
a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||e(d.container,"dblclick",function(a){d.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());m(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||e(d.container,void 0!==k.onwheel?"wheel":void 0!==k.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){d.pointer.inClass(a.target,"highcharts-no-mousewheel")||(d.pointer.onContainerMouseWheel(a),n(a));
return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};b(c.prototype,{fitToBox:function(a,d){[["x","width"],["y","height"]].forEach(function(f){var b=f[0];f=f[1];a[b]+a[f]>d[b]+d[f]&&(a[f]>d[f]?(a[f]=d[f],a[b]=d[b]):a[b]=d[b]+d[f]-a[f]);a[f]>d[f]&&(a[f]=d[f]);a[b]<d[b]&&(a[b]=d[b])});return a},mapZoom:function(a,d,f,b,g){this.mapView&&("number"===typeof a&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,"number"===typeof d&&"number"===typeof f?this.mapView.projection.inverse([d,
f]):void 0,"number"===typeof b&&"number"===typeof g?[b,g]:void 0))}});e(c,"beforeRender",function(){this.mapNavigation=new t(this);this.mapNavigation.update()});p.MapNavigation=t});x(c,"Maps/MapPointer.js",[c["Core/Pointer.js"],c["Core/Utilities.js"]],function(c,p){var q=p.defined,n=p.extend,t=p.pick;p=p.wrap;var k=0,e;n(c.prototype,{onContainerDblClick:function(b){var g=this.chart;b=this.normalize(b);g.options.mapNavigation.enableDoubleClickZoomTo?g.pointer.inClass(b.target,"highcharts-tracker")&&
g.hoverPoint&&g.hoverPoint.zoomTo():g.isInsidePlot(b.chartX-g.plotLeft,b.chartY-g.plotTop)&&g.mapZoom(.5,void 0,void 0,b.chartX,b.chartY)},onContainerMouseWheel:function(b){var g=this.chart;b=this.normalize(b);var v=q(b.wheelDelta)&&-b.wheelDelta/120||b.deltaY||b.detail;1<=Math.abs(v)&&(k+=Math.abs(v),e&&clearTimeout(e),e=setTimeout(function(){k=0},50));10>k&&g.isInsidePlot(b.chartX-g.plotLeft,b.chartY-g.plotTop)&&g.mapView&&g.mapView.zoomBy((g.options.mapNavigation.mouseWheelSensitivity-1)*-v,void 0,
[b.chartX,b.chartY],1>Math.abs(v)?!1:void 0)}});p(c.prototype,"zoomOption",function(b){var g=this.chart.options.mapNavigation;t(g.enableTouchZoom,g.enabled)&&(this.chart.options.chart.pinchType="xy");b.apply(this,[].slice.call(arguments,1))});p(c.prototype,"pinchTranslate",function(b,g,e,m,a,d,f){b.call(this,g,e,m,a,d,f);"map"===this.chart.options.chart.type&&this.hasZoom&&(b=m.scaleX>m.scaleY,this.pinchTranslateDirection(!b,g,e,m,a,d,f,b?m.scaleX:m.scaleY))})});x(c,"Series/ColorMapComposition.js",
[c["Core/Utilities.js"]],function(c){var p=c.defined,q=c.wrap,n={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],parallelArrays:["x","y","value"],colorKey:"value"},t;(function(c){function e(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value}function b(b){var a={};!p(b.color)||b.state&&"normal"!==b.state||(a[this.colorProp||"fill"]=b.color);return a}function g(b,a,d){b=b.call(this,a,d);a.moveToTopOnHover&&
(b.zIndex="hover"===d?1:0);return b}c.colorMapSeriesMixin=n;var v=[];c.compose=function(m,a){a&&-1===v.indexOf(a)&&(v.push(a),a=a.prototype,a.dataLabelOnNull=!0,a.moveToTopOnHover=!0,a.isValid=e);-1===v.indexOf(m)&&(v.push(m),a=m.prototype,a.colorAttribs=b,q(a,"pointAttribs",g));return m};c.seriesColorAttribs=b})(t||(t={}));return t});x(c,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:void 0,zoom:void 0}});x(c,"Maps/Projections/EqualEarth.js",
[],function(){var c=Math.sqrt(3)/2;return{forward:function(p){var q=Math.PI/180,n=Math.asin(c*Math.sin(p[1]*q)),t=n*n,k=t*t*t;return[p[0]*q*Math.cos(n)/(c*(1.340264+3*-.081106*t+k*(7*.000893+.034164*t))),n*(1.340264+-.081106*t+k*(.000893+.003796*t))]},inverse:function(p){var q=180/Math.PI,n=p[1],t;for(t=0;12>t;++t){var k=n*n;var e=k*k*k;var b=n*(1.340264+-.081106*k+e*(.000893+.003796*k))-p[1];k=1.340264+3*-.081106*k+e*(7*.000893+.034164*k);n-=b/=k;if(1e-9>Math.abs(b))break}k=n*n;return[q*c*p[0]*(1.340264+
3*-.081106*k+k*k*k*(7*.000893+.034164*k))/Math.cos(n),q*Math.asin(Math.sin(n)/c)]}}});x(c,"Maps/Projections/Miller.js",[],function(){var c=Math.PI/4,p=Math.PI/180;return{forward:function(q){return[q[0]*p,1.25*Math.log(Math.tan(c+.4*q[1]*p))]},inverse:function(q){return[q[0]/p,2.5*(Math.atan(Math.exp(.8*q[1]))-c)/p]}}});x(c,"Maps/Projections/Orthographic.js",[],function(){var c=Math.PI/180;return{forward:function(p){var q=p[0];if(-90>q||90<q)return[NaN,NaN];p=p[1]*c;return[Math.cos(p)*Math.sin(q*c),
Math.sin(p)]},inverse:function(p){var q=p[0];p=p[1];var n=Math.sqrt(q*q+p*p),t=Math.asin(n),k=Math.sin(t);return[Math.atan2(q*k,n*Math.cos(t))/c,Math.asin(n&&p*k/n)/c]}}});x(c,"Maps/Projections/WebMercator.js",[],function(){var c=Math.PI/180;return{forward:function(p){if(85.0511287798<Math.abs(p[1]))return[NaN,NaN];var q=Math.sin(p[1]*c);return[6378137*p[0]*c,6378137*Math.log((1+q)/(1-q))/2]},inverse:function(p){return[p[0]/(6378137*c),(2*Math.atan(Math.exp(p[1]/6378137))-Math.PI/2)/c]},maxLatitude:85.0511287798}});
x(c,"Maps/Projections/ProjectionRegistry.js",[c["Maps/Projections/EqualEarth.js"],c["Maps/Projections/Miller.js"],c["Maps/Projections/Orthographic.js"],c["Maps/Projections/WebMercator.js"]],function(c,p,q,n){return{EqualEarth:c,Miller:p,Orthographic:q,WebMercator:n}});x(c,"Maps/Projection.js",[c["Maps/Projections/ProjectionRegistry.js"],c["Core/Utilities.js"]],function(c,p){var q=this&&this.__spreadArrays||function(){for(var e=0,b=0,g=arguments.length;b<g;b++)e+=arguments[b].length;e=Array(e);var c=
0;for(b=0;b<g;b++)for(var m=arguments[b],a=0,d=m.length;a<d;a++,c++)e[c]=m[a];return e},n=p.erase,t=2*Math.PI/360,k=function(c){-180>c&&(c+=360);180<c&&(c-=360);return c};return function(){function e(b){void 0===b&&(b={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=b;var g=b.name;this.rotator=(b=b.rotation)?this.getRotator(b):void 0;var c=this.def=g?e.registry[g]:void 0,m=this.rotator;c&&(this.maxLatitude=c.maxLatitude||90,this.hasGeoProjection=!0);m&&c?(this.forward=
function(a){a=m.forward(a);return c.forward(a)},this.inverse=function(a){a=c.inverse(a);return m.inverse(a)}):c?(this.forward=c.forward,this.inverse=c.inverse):m&&(this.forward=m.forward,this.inverse=m.inverse)}e.add=function(b,g){e.registry[b]=g};e.greatCircle=function(b,g,c){var m=Math.atan2,a=Math.cos,d=Math.sin,f=Math.sqrt,r=b[1]*t,e=b[0]*t,v=g[1]*t,h=g[0]*t,u=v-r,z=h-e;u=d(u/2)*d(u/2)+a(r)*a(v)*d(z/2)*d(z/2);u=2*m(f(u),f(1-u));var w=Math.round(6371E3*u/5E5);z=[];c&&z.push(b);if(1<w)for(w=b=1/
w;.999>w;w+=b){var l=d((1-w)*u)/d(u),B=d(w*u)/d(u),k=l*a(r)*a(e)+B*a(v)*a(h),n=l*a(r)*d(e)+B*a(v)*d(h);l=l*d(r)+B*d(v);l=m(l,f(k*k+n*n));k=m(n,k);z.push([k/t,l/t])}c&&z.push(g);return z};e.insertGreatCircles=function(b){for(var c=b.length-1;c--;)if(10<Math.max(Math.abs(b[c][0]-b[c+1][0]),Math.abs(b[c][1]-b[c+1][1]))){var v=e.greatCircle(b[c],b[c+1]);v.length&&b.splice.apply(b,q([c+1,0],v))}};e.toString=function(b){b=b||{};var c=b.rotation;return[b.name,c&&c.join(",")].join(";")};e.prototype.getRotator=
function(b){var c=b[0]*t,e=(b[1]||0)*t;b=(b[2]||0)*t;var m=Math.cos(e),a=Math.sin(e),d=Math.cos(b),f=Math.sin(b);if(0!==c||0!==e||0!==b)return{forward:function(b){var r=b[0]*t+c,e=b[1]*t,h=Math.cos(e);b=Math.cos(r)*h;r=Math.sin(r)*h;e=Math.sin(e);h=e*m+b*a;return[Math.atan2(r*d-h*f,b*m-e*a)/t,Math.asin(h*d+r*f)/t]},inverse:function(b){var e=b[0]*t,r=b[1]*t,h=Math.cos(r);b=Math.cos(e)*h;e=Math.sin(e)*h;r=Math.sin(r);h=r*d-e*f;return[(Math.atan2(e*d+r*f,b*m+h*a)-c)/t,Math.asin(h*m-b*a)/t]}}};e.prototype.forward=
function(b){return b};e.prototype.inverse=function(b){return b};e.prototype.clipOnAntimeridian=function(b,c){var g=[],m=[b];b.forEach(function(a,d){var f=b[d-1];if(!d){if(!c)return;f=b[b.length-1]}var h=f[0],l=a[0];(-90>h||90<h)&&(-90>l||90<l)&&0<h!==0<l&&g.push({i:d,lat:f[1]+(180-f[0])/(a[0]-f[0])*(a[1]-f[1]),direction:0>h?1:-1,previousLonLat:f,lonLat:a})});if(g.length)if(c){if(1===g.length%2){var a=g.slice().sort(function(a,d){return Math.abs(d.lat)-Math.abs(a.lat)})[0];n(g,a)}for(var d=g.length-
2;0<=d;){var f=g[d].i,r=k(180+.000001*g[d].direction),y=k(180-.000001*g[d].direction);f=b.splice.apply(b,q([f,g[d+1].i-f],e.greatCircle([r,g[d].lat],[r,g[d+1].lat],!0)));f.push.apply(f,e.greatCircle([y,g[d+1].lat],[y,g[d].lat],!0));m.push(f);d-=2}if(a)for(f=0;f<m.length;f++)if(d=m[f],y=d.indexOf(a.lonLat),-1<y){f=(0>a.lat?-1:1)*this.maxLatitude;r=k(180+.000001*a.direction);var A=k(180-.000001*a.direction);a=e.greatCircle([r,a.lat],[r,f],!0).concat(e.greatCircle([A,f],[A,a.lat],!0));d.splice.apply(d,
q([y,0],a));break}}else for(d=g.length;d--;)f=g[d].i,f=b.splice(f,b.length,[k(180+.000001*g[d].direction),g[d].lat]),f.unshift([k(180-.000001*g[d].direction),g[d].lat]),m.push(f);return m};e.prototype.path=function(b){var c=this,v=this.def,m=this.rotator,a=[],d="Polygon"===b.type||"MultiPolygon"===b.type,f=this.hasGeoProjection,r="Orthographic"!==this.options.name,y=r?m:void 0,k=r?v||this:this,h=function(b){b=b.map(function(a){if(r){y&&(a=y.forward(a));var d=a[0];.000001>Math.abs(d-180)&&(d=180>d?
179.999999:180.000001);a=[d,a[1]]}return a});var h=[b];f&&(e.insertGreatCircles(b),r&&(h=c.clipOnAntimeridian(b,d)));h.forEach(function(b){if(!(2>b.length))for(var l=!1,h,g,r=!1,m=function(d){l?a.push(["L",d[0],d[1]]):(a.push(["M",d[0],d[1]]),l=!0)},u=0;u<b.length;u++){var w=b[u],y=k.forward(w);isNaN(y[0])||isNaN(y[1])||f&&!(w[1]<=c.maxLatitude&&w[1]>=-c.maxLatitude)?r=!0:(d&&!h&&(h=w,b.push(w)),r&&g&&(d&&f?e.greatCircle(g,w).forEach(function(a){return m(k.forward(a))}):l=!1),m(y),g=w,r=!1)}})};"LineString"===
b.type?h(b.coordinates):"MultiLineString"===b.type?b.coordinates.forEach(function(a){return h(a)}):"Polygon"===b.type?(b.coordinates.forEach(function(a){return h(a)}),a.length&&a.push(["Z"])):"MultiPolygon"===b.type&&(b.coordinates.forEach(function(a){a.forEach(function(a){return h(a)})}),a.length&&a.push(["Z"]));return a};e.registry=c;return e}()});x(c,"Maps/MapView.js",[c["Maps/MapViewOptionsDefault.js"],c["Maps/Projection.js"],c["Core/Utilities.js"]],function(c,p,q){var n=q.addEvent,t=q.clamp,
k=q.fireEvent,e=q.isNumber,b=q.merge,g=q.pick,v=q.relativeLength;return function(){function m(a,d){var f=this;this.userOptions=d||{};d=b(c,d);this.chart=a;this.center=d.center;this.options=d;this.projection=new p(d.projection);this.zoom=d.zoom||0;n(a,"afterSetChartSize",function(){if(void 0===f.minZoom||f.minZoom===f.zoom)f.fitToBounds(void 0,void 0,!1),e(f.userOptions.zoom)&&(f.zoom=f.userOptions.zoom),f.userOptions.center&&b(!0,f.center,f.userOptions.center)});var g,m,k;d=function(d){var b=a.pointer.pinchDown,
h=a.mouseDownX,c=a.mouseDownY;1===b.length&&(h=b[0].chartX,c=b[0].chartY);if("number"===typeof h&&"number"===typeof c){var l=h+","+c,e=d.originalEvent;b=e.chartX;e=e.chartY;l!==m&&(m=l,g=f.projection.forward(f.center),k=(f.projection.options.rotation||[0,0]).slice());"Orthographic"===f.projection.options.name&&25.2>(f.minZoom||Infinity)?(l=28E3/(f.getScale()*Math.min(a.plotWidth,a.plotHeight)),k&&(h=(h-b)*l-k[0],c=t(-k[1]-(c-e)*l,-80,80),f.update({projection:{rotation:[-h,-c]},center:[h,c],zoom:f.zoom},
!0,!1))):(l=f.getScale(),c=f.projection.inverse([g[0]+(h-b)/l,g[1]-(c-e)/l]),f.setView(c,void 0,!0,!1));d.preventDefault()}};n(a,"pan",d);n(a,"touchpan",d);n(a,"selection",function(d){if(d.resetSelection)f.zoomBy();else{var b=d.x-a.plotLeft,c=d.y-a.plotTop,h=f.pixelsToProjectedUnits({x:b,y:c}),l=h.y;h=h.x;b=f.pixelsToProjectedUnits({x:b+d.width,y:c+d.height});f.fitToBounds({x1:h,y1:l,x2:b.x,y2:b.y},void 0,!0,d.originalEvent.touches?!1:void 0);/^touch/.test(d.originalEvent.type)||a.showResetZoom();
d.preventDefault()}})}m.prototype.fitToBounds=function(a,d,b,c){void 0===b&&(b=!0);var f=a||this.getProjectedBounds();if(f){var e=this.chart,h=e.plotWidth;e=e.plotHeight;var r=g(d,a?0:this.options.padding);d=v(r,h);r=v(r,e);h=Math.log(40097932.2/Math.max((f.x2-f.x1)/((h-d)/256),(f.y2-f.y1)/((e-r)/256)))/Math.log(2);a||(this.minZoom=h);a=this.projection.inverse([(f.x2+f.x1)/2,(f.y2+f.y1)/2]);this.setView(a,h,b,c)}};m.prototype.getProjectedBounds=function(){var a=this.chart.series.reduce(function(a,
b){(b=b.getProjectedBounds&&b.getProjectedBounds())&&a.push(b);return a},[]);return m.compositeBounds(a)};m.prototype.getScale=function(){return 256/40097932.2*Math.pow(2,this.zoom)};m.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)};m.prototype.setView=function(a,d,b,c){void 0===b&&(b=!0);var f=!1;a&&(this.center=a);"number"===typeof d&&("number"===typeof this.minZoom&&(d=Math.max(d,this.minZoom)),"number"===typeof this.options.maxZoom&&
(d=Math.min(d,this.options.maxZoom)),f=d>this.zoom,this.zoom=d);var e=this.getProjectedBounds();if(e&&!f){f=this.projection.forward(this.center);d=this.chart;a=d.plotWidth;d=d.plotHeight;var h=this.getScale(),g=this.projectedUnitsToPixels({x:e.x1,y:e.y1}),r=this.projectedUnitsToPixels({x:e.x2,y:e.y2});e=[(e.x1+e.x2)/2,(e.y1+e.y2)/2];var m=g.x,l=r.y;r=r.x;g=g.y;r-m<a?f[0]=e[0]:0>m&&r<a?f[0]+=Math.max(m,r-a)/h:r>a&&0<m&&(f[0]+=Math.min(r-a,m)/h);g-l<d?f[1]=e[1]:0>l&&g<d?f[1]-=Math.max(l,g-d)/h:g>d&&
0<l&&(f[1]-=Math.min(g-d,l)/h);this.center=this.projection.inverse(f)}k(this,"afterSetView");b&&this.redraw(c)};m.prototype.projectedUnitsToPixels=function(a){var d=this.getScale(),b=this.projection.forward(this.center);return{x:this.chart.plotWidth/2-d*(b[0]-a.x),y:this.chart.plotHeight/2+d*(b[1]-a.y)}};m.prototype.pixelsToProjectedUnits=function(a){var d=a.x;a=a.y;var b=this.getScale(),c=this.projection.forward(this.center);return{x:c[0]+(d-this.chart.plotWidth/2)/b,y:c[1]-(a-this.chart.plotHeight/
2)/b}};m.prototype.update=function(a,d,f){void 0===d&&(d=!0);var c=a.projection;c=c&&p.toString(c)!==p.toString(this.options.projection);b(!0,this.userOptions,a);b(!0,this.options,a);c&&(this.chart.series.forEach(function(a){a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0}),this.projection=new p(this.options.projection),a.center||e(a.zoom)||this.fitToBounds(void 0,void 0,!1));(a.center||e(a.zoom))&&this.setView(this.options.center,a.zoom,!1);d&&this.chart.redraw(f)};m.prototype.zoomBy=
function(a,d,b,c){var f=this.chart,e=this.projection.forward(this.center);d=d?this.projection.forward(d):[];var h=d[0],g=d[1];"number"===typeof a?(a=this.zoom+a,d=void 0,b&&(h=b[0],g=b[1],b=this.getScale(),h=h-f.plotLeft-f.plotWidth/2,f=g-f.plotTop-f.plotHeight/2,h=e[0]+h/b,g=e[1]+f/b),"number"===typeof h&&"number"===typeof g&&(b=1-Math.pow(2,this.zoom)/Math.pow(2,a),h=e[0]-h,f=e[1]-g,e[0]-=h*b,e[1]+=f*b,d=this.projection.inverse(e)),this.setView(d,a,void 0,c)):this.fitToBounds(void 0,void 0,void 0,
c)};m.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,b){a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},b(a[0]))};return m}()});x(c,"Maps/MapSymbols.js",[c["Core/Renderer/SVG/SVGRenderer.js"]],function(c){function p(c,n,t,k,e,b,g,v){return[["M",c+e,n],["L",c+t-b,n],["C",c+t-b/2,n,c+t,n+b/2,c+t,n+b],["L",c+t,n+k-g],["C",c+t,n+k-g/2,c+t-g/2,n+k,c+t-g,n+k],["L",c+v,n+k],["C",c+v/2,n+k,c,n+k-v/2,c,n+k-v],["L",c,
n+e],["C",c,n+e/2,c+e/2,n,c+e,n],["Z"]]}c=c.prototype.symbols;c.bottombutton=function(c,n,t,k,e){e=e&&e.r||0;return p(c-1,n-1,t,k,0,0,e,e)};c.topbutton=function(c,n,t,k,e){e=e&&e.r||0;return p(c-1,n-1,t,k,e,e,0,0)};return c});x(c,"Core/Chart/MapChart.js",[c["Core/Chart/Chart.js"],c["Core/DefaultOptions.js"],c["Maps/MapView.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,p,q,n,t){var k=this&&this.__extends||function(){var b=function(a,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return b(a,d)};return function(a,d){function f(){this.constructor=a}b(a,d);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),e=p.getOptions,b=t.addEvent,g=t.merge,v=t.pick;c=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}k(a,c);a.prototype.init=function(a,f){b(this,"afterInit",function(){this.mapView=new q(this,this.options.mapView)});var d=e().credits;
a=g({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:v(d.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:v(d.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},a);c.prototype.init.call(this,a,f)};return a}(c);(function(b){b.maps={};b.mapChart=function(a,d,f){return new b(a,d,f)};b.splitPath=function(a){"string"===typeof a&&(a=a.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,;]+/).map(function(a){return/[A-za-z]/.test(a)?
a:parseFloat(a)}));return n.prototype.pathToSegments(a)}})(c||(c={}));return c});x(c,"Series/Map/MapPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p){var q=this&&this.__extends||function(){var c=function(k,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e])};return c(k,e)};return function(k,e){function b(){this.constructor=k}c(k,e);k.prototype=null===e?Object.create(e):
(b.prototype=e.prototype,new b)}}(),n=p.extend;return function(c){function k(){var e=null!==c&&c.apply(this,arguments)||this;e.options=void 0;e.path=void 0;e.series=void 0;return e}q(k,c);k.getProjectedPath=function(c,b){c.projectedPath||(b&&c.geometry?(b.hasCoordinates=!0,c.projectedPath=b.path(c.geometry)):c.projectedPath=c.path);return c.projectedPath||[]};k.prototype.applyOptions=function(e,b){var g=this.series;e=c.prototype.applyOptions.call(this,e,b);b=g.joinBy;g.mapData&&g.mapMap&&(b=c.prototype.getNestedProperty.call(e,
b[1]),(g="undefined"!==typeof b&&g.mapMap[b])?n(e,g):e.value=e.value||null);return e};k.prototype.onMouseOver=function(e){p.clearTimeout(this.colorInterval);if(null!==this.value||this.series.options.nullInteraction)c.prototype.onMouseOver.call(this,e);else this.series.onMouseOut(e)};k.prototype.zoomTo=function(){var c=this.series.chart;c.mapView&&this.bounds&&(c.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,c.redraw())};return k}(c.seriesTypes.scatter.prototype.pointClass)});x(c,
"Series/Map/MapSeries.js",[c["Core/Animation/AnimationUtilities.js"],c["Series/ColorMapComposition.js"],c["Series/CenteredUtilities.js"],c["Core/Globals.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Chart/MapChart.js"],c["Series/Map/MapPoint.js"],c["Maps/MapView.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,p,q,n,t,k,e,b,g,v,m,a){var d=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),f=c.animObject;c=p.colorMapSeriesMixin;var r=n.noop,y=k.maps,A=k.splitPath;k=v.seriesTypes;var h=k.column,u=k.scatter;k=a.extend;var z=a.fireEvent,w=a.getNestedProperty,l=a.isArray,B=a.isNumber,E=a.merge,F=a.objectEach,D=a.pick,
G=a.splat;a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;b.group=void 0;b.joinBy=void 0;b.options=void 0;b.points=void 0;b.transformGroup=void 0;return b}d(c,a);c.prototype.animate=function(a){var b=this.chart,d=this.group,c=f(this.options.animation);b.renderer.isSVG&&(a?d.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):d.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},
c))};c.prototype.animateDrilldown=function(a){var b=this.chart,d=this.group;b.renderer.isSVG&&(a?d.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):d.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1}))};c.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})};
c.prototype.animateDrillupTo=function(a){h.prototype.animateDrillupTo.call(this,a)};c.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;delete a.projectedPath});delete this.bounds};c.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)};c.prototype.drawMapDataLabels=function(){g.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};c.prototype.drawPoints=
function(){var a=this,b=this.chart,d=this.group,c=this.svgTransform,f=b.mapView,l=b.renderer;this.transformGroup||(this.transformGroup=l.g().add(d),this.transformGroup.survive=!0);this.doFullTranslate()&&(b.hasRendered&&!b.styledMode&&this.points.forEach(function(b){b.shapeArgs&&(b.shapeArgs.fill=a.pointAttribs(b,b.state).fill)}),this.group=this.transformGroup,h.prototype.drawPoints.apply(this),this.group=d,this.points.forEach(function(d){if(d.graphic){var c="";d.name&&(c+="highcharts-name-"+d.name.replace(/ /g,
"-").toLowerCase());d.properties&&d.properties["hc-key"]&&(c+=" highcharts-key-"+d.properties["hc-key"].toLowerCase());c&&d.graphic.addClass(c);b.styledMode&&d.graphic.css(a.pointAttribs(d,d.selected&&"select"||void 0))}}));if(f&&c){var e=D(this.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],1),g=c.scaleX,r=0<c.scaleY?1:-1,m=this.transformGroup;if(l.globalAnimation&&b.hasRendered){var w=Number(m.attr("translateX")),u=Number(m.attr("translateY")),k=Number(m.attr("scaleX"));
m.attr({animator:0}).animate({animator:1},{step:function(a,b){a=k+(g-k)*b.pos;m.attr({translateX:w+(c.translateX-w)*b.pos,translateY:u+(c.translateY-u)*b.pos,scaleX:a,scaleY:a*r});d.element.setAttribute("stroke-width",e/a)}})}else m.attr(c),d.element.setAttribute("stroke-width",e/g)}this.drawMapDataLabels()};c.prototype.getProjectedBounds=function(){if(!this.bounds){var a=Number.MAX_VALUE,d=this.chart.mapView&&this.chart.mapView.projection,c=[];(this.points||[]).forEach(function(b){if(b.path||b.geometry){"string"===
typeof b.path?b.path=A(b.path):l(b.path)&&"M"===b.path[0]&&(b.path=m.prototype.pathToSegments(b.path));if(!b.bounds){var f=e.getProjectedPath(b,d),h=b.properties,g=-a,r=a,w=-a,u=a,k;f.forEach(function(a){var b=a[a.length-2];a=a[a.length-1];"number"===typeof b&&"number"===typeof a&&(r=Math.min(r,b),g=Math.max(g,b),u=Math.min(u,a),w=Math.max(w,a),k=!0)});k&&(f=h&&h["hc-middle-x"],f=r+(g-r)*D(b.middleX,B(f)?f:.5),h=h&&h["hc-middle-y"],h=D(b.middleY,B(h)?h:.5),b.geometry||(h=1-h),b.bounds={midX:f,midY:w-
(w-u)*h,x1:r,y1:u,x2:g,y2:w},b.labelrank=D(b.labelrank,(g-r)*(w-u)))}b.bounds&&c.push(b.bounds)}});this.bounds=b.compositeBounds(c)}return this.bounds};c.prototype.hasData=function(){return!!this.processedXData.length};c.prototype.pointAttribs=function(a,b){var d=a.series.chart,c=d.mapView;b=d.styledMode?this.colorAttribs(a):h.prototype.pointAttribs.call(this,a,b);(a=a.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&c&&(a/=c.getScale());b.dashstyle&&c&&this.options.borderWidth&&
(a=this.options.borderWidth/c.getScale());b["stroke-width"]=D(a,"inherit");return b};c.prototype.setData=function(a,b,d,c){var f=this.options,h=this.chart.options.chart,r=h&&h.map,m=f.mapData,u=this.joinBy,k=f.keys||this.pointArrayMap,v=[],p={},z=this.chart.mapTransforms;!m&&r&&(m="string"===typeof r?y[r]:r);a&&a.forEach(function(b,d){var c=0;if(B(b))a[d]={value:b};else if(l(b)){a[d]={};!f.keys&&b.length>k.length&&"string"===typeof b[0]&&(a[d]["hc-key"]=b[0],++c);for(var h=0;h<k.length;++h,++c)k[h]&&
"undefined"!==typeof b[c]&&(0<k[h].indexOf(".")?e.prototype.setNestedProperty(a[d],b[c],k[h]):a[d][k[h]]=b[c])}u&&"_i"===u[0]&&(a[d]._i=d)});(this.chart.mapTransforms=z=h.mapTransforms||m&&m["hc-transform"]||z)&&F(z,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(m){"FeatureCollection"===m.type&&(this.mapTitle=m.title,m=n.geojson(m,this.type,this));this.mapData=m;this.mapMap={};for(z=0;z<m.length;z++)h=m[z],r=h.properties,h._i=z,u[0]&&r&&r[u[0]]&&(h[u[0]]=
r[u[0]]),p[h[u[0]]]=h;this.mapMap=p;if(a&&u[1]){var t=u[1];a.forEach(function(a){a=w(t,a);p[a]&&v.push(p[a])})}if(f.allAreas){a=a||[];if(u[1]){var q=u[1];a.forEach(function(a){v.push(w(q,a))})}v="|"+v.map(function(a){return a&&a[u[0]]}).join("|")+"|";m.forEach(function(b){u[0]&&-1!==v.indexOf("|"+b[u[0]]+"|")||(a.push(E(b,{value:null})),c=!1)})}}g.prototype.setData.call(this,a,b,d,c);this.processData();this.generatePoints()};c.prototype.setOptions=function(a){a=g.prototype.setOptions.call(this,a);
var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=G(b);b[1]||(b[1]=b[0]);return a};c.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,d=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds());var c;if(b){var f=b.getScale(),l=b.projection.forward(b.center);b=b.projection.hasCoordinates?-1:1;this.svgTransform=c={scaleX:f,scaleY:f*b,translateX:this.chart.plotWidth/
2-l[0]*f,translateY:this.chart.plotHeight/2-l[1]*f*b}}this.points.forEach(function(b){c&&b.bounds&&B(b.bounds.midX)&&B(b.bounds.midY)&&(b.plotX=b.bounds.midX*c.scaleX+c.translateX,b.plotY=b.bounds.midY*c.scaleY+c.translateY);a&&(b.shapeType="path",b.shapeArgs={d:e.getProjectedPath(b,d)})});z(this,"afterTranslate")};c.defaultOptions=E(u.defaultOptions,{animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return B(b)?a(b,-1):""},inside:!0,
overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}});return c}(u);k(a.prototype,{type:"map",axisTypes:["colorAxis"],colorKey:"value",directTouch:!0,drawDataLabels:r,drawGraph:r,drawLegendSymbol:t.drawRectangle,
forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:r,isCartesian:!1,parallelArrays:c.parallelArrays,pointArrayMap:c.pointArrayMap,pointClass:e,preserveAspectRatio:!0,searchPoint:r,trackerGroups:c.trackerGroups,useMapGeometry:!0});p.compose(a,e);v.registerSeriesType("map",a);"";return a});x(c,"Series/MapLine/MapLineSeries.js",[c["Series/Map/MapSeries.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p,q){var n=this&&this.__extends||function(){var b=function(c,
e){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])};return b(c,e)};return function(c,e){function g(){this.constructor=c}b(c,e);c.prototype=null===e?Object.create(e):(g.prototype=e.prototype,new g)}}(),t=p.series,k=q.extend,e=q.merge;q=function(b){function g(){var c=null!==b&&b.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}n(g,b);g.prototype.pointAttribs=function(b,
e){b=c.prototype.pointAttribs.call(this,b,e);b.fill=this.options.fillColor;return b};g.defaultOptions=e(c.defaultOptions,{lineWidth:1,fillColor:"none"});return g}(c);k(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:t.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});p.registerSeriesType("mapline",q);"";return q});x(c,"Series/MapPoint/MapPointPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p){var q=this&&this.__extends||
function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e])};return c(e,b)};return function(e,b){function g(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)}}(),n=p.isNumber,t=p.merge;return function(c){function e(){var b=null!==c&&c.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}q(e,c);e.prototype.applyOptions=
function(b,e){b="undefined"!==typeof b.lat&&"undefined"!==typeof b.lon?t(b,this.series.chart.fromLatLonToPoint(b)):b;return c.prototype.applyOptions.call(this,b,e)};e.prototype.isValid=function(){return!!(this.options.geometry||n(this.x)&&n(this.y))};return e}(c.seriesTypes.scatter.prototype.pointClass)});x(c,"Series/MapPoint/MapPointSeries.js",[c["Core/Globals.js"],c["Series/MapPoint/MapPointPoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p,q,n){var t=this&&this.__extends||
function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();c=c.noop;var k=q.seriesTypes.scatter,e=n.extend,b=n.fireEvent,g=n.isNumber,v=n.merge;n=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.data=void 0;
a.options=void 0;a.points=void 0;return a}t(a,c);a.prototype.drawDataLabels=function(){c.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};a.prototype.translate=function(){var a=this,c=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();if(c){var e=c.projection,m=e.forward,k=e.hasCoordinates;this.points.forEach(function(b){var d=b.x;d=void 0===d?void 0:d;var f=b.y;f=void 0===f?void 0:f;var h=b.options.geometry;(h=
h&&"Point"===h.type&&h.coordinates)?(f=m(h),d=f[0],f=f[1]):b.bounds&&(d=b.bounds.midX,f=b.bounds.midY);g(d)&&g(f)?(d=c.projectedUnitsToPixels({x:d,y:f}),b.plotX=d.x,b.plotY=k?d.y:a.chart.plotHeight-d.y):(b.plotX=void 0,b.plotY=void 0);b.isInside=a.isPointInside(b);b.zone=a.zones.length?b.getZone():void 0})}b(this,"afterTranslate")};a.defaultOptions=v(k.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}});return a}(k);
e(n.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:p,searchPoint:c});q.registerSeriesType("mappoint",n);"";return n});x(c,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},
x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});x(c,"Series/Bubble/BubbleLegendItem.js",[c["Core/Color/Color.js"],c["Core/FormatUtilities.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,p,q,n){var t=c.parse,k=q.noop,e=n.arrayMax,b=n.arrayMin,g=n.isNumber,v=n.merge,m=n.pick,a=n.stableSort;"";return function(){function c(a,b){this.options=this.symbols=this.visible=
this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=k;this.init(a,b)}c.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=b};c.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};c.prototype.drawLegendSymbol=function(b){var c=this.chart,d=this.options,f=m(b.options.itemDistance,
20),h=d.ranges,e=d.connectorDistance;this.fontMetrics=c.renderer.fontMetrics(d.labels.style.fontSize);h&&h.length&&g(h[0].value)?(a(h,function(a,b){return b.value-a.value}),this.ranges=h,this.setOptions(),this.render(),b=this.getMaxLabelSize(),h=this.ranges[0].radius,c=2*h,e=e-h+b.width,e=0<e?e:0,this.maxLabel=b,this.movementX="left"===d.labels.align?e:0,this.legendItemWidth=c+e+f,this.legendItemHeight=c+this.fontMetrics.h/2):b.options.bubbleLegend.autoRanges=!0};c.prototype.setOptions=function(){var a=
this.ranges,b=this.options,c=this.chart.series[b.seriesIndex],d=this.legend.baseline,h={zIndex:b.zIndex,"stroke-width":b.borderWidth},e={zIndex:b.zIndex,"stroke-width":b.connectorWidth},g={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},w=c.options.marker.fillOpacity,l=this.chart.styledMode;a.forEach(function(f,r){l||(h.stroke=m(f.borderColor,b.borderColor,c.color),h.fill=m(f.color,b.color,1!==w?t(c.color).setOpacity(w).get("rgba"):c.color),e.stroke=m(f.connectorColor,
b.connectorColor,c.color));a[r].radius=this.getRangeRadius(f.value);a[r]=v(a[r],{center:a[0].radius-a[r].radius+d});l||v(!0,a[r],{bubbleAttribs:v(h),connectorAttribs:v(e),labelAttribs:g})},this)};c.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};c.prototype.render=function(){var a=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols=
{connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=a.g("bubble-legend");this.legendItem=a.g("bubble-legend-item");this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(a){a.value>=b&&this.renderRange(a)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);this.hideOverlappingLabels()};c.prototype.renderRange=function(a){var b=this.options,c=b.labels,d=this.chart,f=d.series[b.seriesIndex],e=d.renderer,g=this.symbols;d=g.labels;
var m=a.center,l=Math.abs(a.radius),k=b.connectorDistance||0,n=c.align,p=b.connectorWidth,v=this.ranges[0].radius||0,t=m-l-b.borderWidth/2+p/2,q=this.fontMetrics;q=q.f/2-(q.h-q.f)/2;var C=e.styledMode;k=this.legend.options.rtl||"left"===n?-k:k;"center"===n&&(k=0,b.connectorDistance=0,a.labelAttribs.align="center");n=t+b.labels.y;var x=v+k+b.labels.x;g.bubbleItems.push(e.circle(v,m+((t%1?1:.5)-(p%2?0:.5)),l).attr(C?{}:a.bubbleAttribs).addClass((C?"highcharts-color-"+f.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+
(b.className||"")).add(this.legendSymbol));g.connectors.push(e.path(e.crispLine([["M",v,t],["L",v+k,t]],b.connectorWidth)).attr(C?{}:a.connectorAttribs).addClass((C?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendSymbol));a=e.text(this.formatLabel(a),x,n+q).attr(C?{}:a.labelAttribs).css(C?{}:c.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendSymbol);d.push(a);a.placed=
!0;a.alignAttr={x:x,y:n+q}};c.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(c){b=c.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};c.prototype.formatLabel=function(a){var b=this.options,c=b.labels.formatter;b=b.labels.format;var d=this.chart.numberFormatter;return b?p.format(b,a):c?c.call(a):d(a.value,1)};c.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,
c){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[c].show():b.connectors[c].hide()}))};c.prototype.getRanges=function(){var a=this.legend.bubbleLegend,c=a.options.ranges,d,k=Number.MAX_VALUE,h=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(d=a.zData.filter(g),d.length&&(k=m(a.options.zMin,Math.min(k,Math.max(b(d),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),h=m(a.options.zMax,Math.max(h,e(d)))))});var u=k===h?[{value:h}]:[{value:k},
{value:(k+h)/2},{value:h,autoRanges:!0}];c.length&&c[0].radius&&u.reverse();u.forEach(function(a,b){c&&c[b]&&(u[b]=v(c[b],a))});return u};c.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,d=c.floating,e=(c="horizontal"===c.layout)?a.legend.lastLineHeight:0,g=a.plotSizeX,m=a.plotSizeY,k=a.series[this.options.seriesIndex],l=k.getPxExtremes();a=Math.ceil(l.minPxSize);l=Math.ceil(l.maxPxSize);var n=Math.min(m,g);k=k.options.maxSize;if(d||!/%$/.test(k))b=
l;else if(k=parseFloat(k),b=(n+e-b.h/2)*k/100/(k/100+1),c&&m-b>=g||!c&&g-b>=m)b=l;return[a,Math.ceil(b)]};c.prototype.updateRanges=function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};c.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return c}()});x(c,"Series/Bubble/BubbleLegendComposition.js",
[c["Series/Bubble/BubbleLegendDefaults.js"],c["Series/Bubble/BubbleLegendItem.js"],c["Core/DefaultOptions.js"],c["Core/Utilities.js"]],function(c,p,q,n){var t=q.setOptions,k=n.addEvent,e=n.objectEach,b=n.wrap,g;(function(g){function m(b,c,f){var h=this.legend,l=0<=a(this);if(h&&h.options.enabled&&h.bubbleLegend&&h.options.bubbleLegend.autoRanges&&l){var g=h.bubbleLegend.options;l=h.bubbleLegend.predictBubbleSizes();h.bubbleLegend.updateRanges(l[0],l[1]);g.placed||(h.group.placed=!1,h.allItems.forEach(function(a){a.legendGroup.translateY=
null}));h.render();this.getMargins();this.axes.forEach(function(a){a.visible&&a.render();g.placed||(a.setScale(),a.updateNames(),e(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});g.placed=!0;this.getMargins();b.call(this,c,f);h.bubbleLegend.correctSizes();n(h,d(h))}else b.call(this,c,f),h&&h.options.enabled&&h.bubbleLegend&&(h.render(),n(h,d(h)))}function a(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function d(a){a=a.allItems;
var b=[],c=a.length,d,f=0;for(d=0;d<c;d++)if(a[d].legendItemHeight&&(a[d].itemHeight=a[d].legendItemHeight),a[d]===a[c-1]||a[d+1]&&a[d]._legendItemPos[1]!==a[d+1]._legendItemPos[1]){b.push({height:0});var e=b[b.length-1];for(f;f<=d;f++)a[f].itemHeight>e.height&&(e.height=a[f].itemHeight);e.step=d}return b}function f(b){var c=this.bubbleLegend,d=this.options,f=d.bubbleLegend,l=a(this.chart);c&&c.ranges&&c.ranges.length&&(f.ranges.length&&(f.autoRanges=!!f.ranges[0].autoRanges),this.destroyItem(c));
0<=l&&d.enabled&&f.enabled&&(f.seriesIndex=l,this.bubbleLegend=new p(f,this),this.bubbleLegend.addToLegend(b.allItems))}function r(){var b=this.chart,c=this.visible,d=this.chart.legend;d&&d.bubbleLegend&&(this.visible=!c,this.ignoreSeries=c,b=0<=a(b),d.bubbleLegend.visible!==b&&(d.update({bubbleLegend:{enabled:b}}),d.bubbleLegend.visible=b),this.visible=c)}function n(a,b){var c=a.options.rtl,d,f,e,h=0;a.allItems.forEach(function(a,l){d=a.legendGroup.translateX;f=a._legendItemPos[1];if((e=a.movementX)||
c&&a.ranges)e=c?d-a.options.maxSize/2:d+e,a.legendGroup.attr({translateX:e});l>b[h].step&&h++;a.legendGroup.attr({translateY:Math.round(f+b[h].height/2)});a._legendItemPos[1]=f+b[h].height/2})}var v=[];g.compose=function(a,d,e){-1===v.indexOf(a)&&(v.push(a),t({legend:{bubbleLegend:c}}),b(a.prototype,"drawChartBox",m));-1===v.indexOf(d)&&(v.push(d),k(d,"afterGetAllItems",f));-1===v.indexOf(e)&&(v.push(e),k(e,"legendItemClick",r))}})(g||(g={}));return g});x(c,"Series/Bubble/BubblePoint.js",[c["Core/Series/Point.js"],
c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p,q){var n=this&&this.__extends||function(){var c=function(k,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e])};return c(k,e)};return function(k,e){function b(){this.constructor=k}c(k,e);k.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();q=q.extend;p=function(p){function k(){var c=null!==p&&p.apply(this,arguments)||
this;c.options=void 0;c.series=void 0;return c}n(k,p);k.prototype.haloPath=function(e){return c.prototype.haloPath.call(this,0===e?0:(this.marker?this.marker.radius||0:0)+e)};return k}(p.seriesTypes.scatter.prototype.pointClass);q(p.prototype,{ttBelow:!1});return p});x(c,"Series/Bubble/BubbleSeries.js",[c["Core/Axis/Axis.js"],c["Series/Bubble/BubbleLegendComposition.js"],c["Series/Bubble/BubblePoint.js"],c["Core/Color/Color.js"],c["Core/Globals.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],
c["Core/Utilities.js"]],function(c,p,q,n,t,k,e,b){var g=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),v=n.parse;n=t.noop;var m=e.seriesTypes;t=m.column;var a=m.scatter;m=b.addEvent;var d=b.arrayMax,
f=b.arrayMin,r=b.clamp,y=b.extend,A=b.isNumber,h=b.merge,u=b.pick;b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}g(c,b);c.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),
this.options.animation))},this)};c.prototype.getRadii=function(){var a=this,b=this.zData,c=this.yData,d=[],f=this.chart.bubbleZExtremes;var e=this.getPxExtremes();var h=e.minPxSize,g=e.maxPxSize;if(!f){var m=Number.MAX_VALUE,k=-Number.MAX_VALUE,n;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=b.getZExtremes())&&(m=Math.min(m||b.zMin,b.zMin),k=Math.max(k||b.zMax,b.zMax),n=!0)});n?(f={zMin:m,zMax:k},this.chart.bubbleZExtremes=f):f={zMin:0,
zMax:0}}var r=0;for(e=b.length;r<e;r++){var p=b[r];d.push(this.getRadius(f.zMin,f.zMax,h,g,p,c[r]))}this.radii=d};c.prototype.getRadius=function(a,b,c,d,f,e){var l=this.options,h="width"!==l.sizeBy,g=l.zThreshold,m=b-a,k=.5;if(null===e||null===f)return null;if(A(f)){l.sizeByAbsoluteValue&&(f=Math.abs(f-g),m=Math.max(b-g,Math.abs(a-g)),a=0);if(f<a)return c/2-1;0<m&&(k=(f-a)/m)}h&&0<=k&&(k=Math.sqrt(k));return Math.ceil(c+k*(d-c))/2};c.prototype.hasData=function(){return!!this.processedXData.length};
c.prototype.pointAttribs=function(a,b){var c=this.options.marker.fillOpacity;a=k.prototype.pointAttribs.call(this,a,b);1!==c&&(a.fill=v(a.fill).setOpacity(c).get("rgba"));return a};c.prototype.translate=function(){b.prototype.translate.call(this);this.getRadii();this.translateBubble()};c.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,c=this.getPxExtremes().minPxSize,d=a.length;d--;){var f=a[d],e=b?b[d]:0;A(e)&&e>=c/2?(f.marker=y(f.marker,{radius:e,width:2*e,height:2*e}),f.dlBox=
{x:f.plotX-e,y:f.plotY-e,width:2*e,height:2*e}):f.shapeArgs=f.plotY=f.dlBox=void 0}};c.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var c=/%$/.test(b);b=parseInt(b,10)}return c?a*b/100:b},c=b(u(this.options.minSize,8));b=Math.max(b(u(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}};c.prototype.getZExtremes=function(){var a=this.options,b=(this.zData||[]).filter(A);if(b.length){var c=u(a.zMin,r(f(b),
!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=u(a.zMax,d(b));if(A(c)&&A(a))return{zMin:c,zMax:a}}};c.compose=p.compose;c.defaultOptions=h(a.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return A(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,
states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return c}(a);y(b.prototype,{alignDataLabel:t.prototype.alignDataLabel,applyZones:n,bubblePadding:!0,buildKDTree:n,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:q,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});m(b,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});c.prototype.beforePadding=
function(){var a=this,b=this.len,c=this.chart,d=0,f=b,e=this.isXAxis,h=e?"xData":"yData",g=this.min,m=this.max-g,k=b/m,r;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries)){r=a.allowZoomOutside=!0;var l=b[h];e&&b.getRadii(0,0,b);if(0<m)for(var n=l.length;n--;)if(A(l[n])&&a.dataMin<=l[n]&&l[n]<=a.max){var p=b.radii&&b.radii[n]||0;d=Math.min((l[n]-g)*k-p,d);f=Math.max((l[n]-g)*k+p,f)}}});r&&0<m&&!this.logarithmic&&(f-=b,k*=(b+Math.max(0,d)-Math.min(f,
b))/b,[["min","userMin",d],["max","userMax",f]].forEach(function(b){"undefined"===typeof u(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/k)}))};e.registerSeriesType("bubble",b);"";"";return b});x(c,"Series/MapBubble/MapBubblePoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p){var q=this&&this.__extends||function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=
c[e])};return c(e,b)};return function(e,b){function g(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)}}();c=c.seriesTypes;var n=c.map,t=p.merge;return function(c){function e(){return null!==c&&c.apply(this,arguments)||this}q(e,c);e.prototype.applyOptions=function(b,e){return b&&"undefined"!==typeof b.lat&&"undefined"!==typeof b.lon?c.prototype.applyOptions.call(this,t(b,this.series.chart.fromLatLonToPoint(b)),e):n.prototype.pointClass.prototype.applyOptions.call(this,
b,e)};e.prototype.isValid=function(){return"number"===typeof this.z};return e}(c.bubble.prototype.pointClass)});x(c,"Series/MapBubble/MapBubbleSeries.js",[c["Series/Bubble/BubbleSeries.js"],c["Series/MapBubble/MapBubblePoint.js"],c["Series/Map/MapSeries.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p,q,n,t){var k=this&&this.__extends||function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])};return b(c,a)};return function(c,a){function d(){this.constructor=c}b(c,a);c.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}}(),e=n.seriesTypes.mappoint,b=t.extend,g=t.merge;t=function(b){function m(){var a=null!==b&&b.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}k(m,b);m.prototype.translate=function(){e.prototype.translate.call(this);this.getRadii();this.translateBubble()};m.compose=c.compose;m.defaultOptions=g(c.defaultOptions,
{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}});return m}(c);b(t.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:q.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:p,setData:q.prototype.setData,setOptions:q.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0});n.registerSeriesType("mapbubble",t);"";return t});x(c,"Series/Heatmap/HeatmapPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,p){var q=
this&&this.__extends||function(){var c=function(b,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)c.hasOwnProperty(a)&&(b[a]=c[a])};return c(b,e)};return function(b,e){function g(){this.constructor=b}c(b,e);b.prototype=null===e?Object.create(e):(g.prototype=e.prototype,new g)}}(),n=p.clamp,t=p.extend,k=p.pick;c=function(c){function b(){var b=null!==c&&c.apply(this,arguments)||this;b.options=void 0;b.series=void 0;b.value=void 0;
b.x=void 0;b.y=void 0;return b}q(b,c);b.prototype.applyOptions=function(b,e){b=c.prototype.applyOptions.call(this,b,e);b.formatPrefix=b.isNull||null===b.value?"null":"point";return b};b.prototype.getCellAttributes=function(){var b=this.series,c=b.options,e=(c.colsize||1)/2,a=(c.rowsize||1)/2,d=b.xAxis,f=b.yAxis,r=this.options.marker||b.options.marker;b=b.pointPlacementToXValue();var p=k(this.pointPadding,c.pointPadding,0),q={x1:n(Math.round(d.len-(d.translate(this.x-e,!1,!0,!1,!0,-b)||0)),-d.len,
2*d.len),x2:n(Math.round(d.len-(d.translate(this.x+e,!1,!0,!1,!0,-b)||0)),-d.len,2*d.len),y1:n(Math.round(f.translate(this.y-a,!1,!0,!1,!0)||0),-f.len,2*f.len),y2:n(Math.round(f.translate(this.y+a,!1,!0,!1,!0)||0),-f.len,2*f.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",f=Math.abs(q[c]-q[d]),e=r&&r.lineWidth||0,h=Math.abs(q[c]+q[d])/2;r[b]&&r[b]<f&&(q[c]=h-r[b]/2-e/2,q[d]=h+r[b]/2+e/2);p&&("y"===a&&(c=d,d=a+"1"),q[c]+=p,q[d]-=p)});return q};b.prototype.haloPath=
function(b){if(!b)return[];var c=this.shapeArgs;return["M",c.x-b,c.y-b,"L",c.x-b,c.y+c.height+b,c.x+c.width+b,c.y+c.height+b,c.x+c.width+b,c.y-b,"Z"]};b.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return b}(c.seriesTypes.scatter.prototype.pointClass);t(c.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return c});x(c,"Series/Heatmap/HeatmapSeries.js",[c["Core/Color/Color.js"],c["Series/ColorMapComposition.js"],c["Series/Heatmap/HeatmapPoint.js"],
c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,p,q,n,t,k,e){var b=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,
new d)}}(),g=p.colorMapSeriesMixin,v=t.series,m=t.seriesTypes,a=m.column,d=m.scatter,f=k.prototype.symbols,r=e.extend,y=e.fireEvent,A=e.isNumber,h=e.merge,u=e.pick;k=function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.colorAxis=void 0;b.data=void 0;b.options=void 0;b.points=void 0;b.valueMax=NaN;b.valueMin=NaN;return b}b(e,a);e.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)v.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&
(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),a.options.borderRadius&&b.graphic.attr({r:a.options.borderRadius}),(b.shapeArgs||{}).r=a.options.borderRadius,(b.shapeArgs||{}).d=b.graphic.pathArray,null===b.value&&b.graphic.addClass("highcharts-null-point"))})};e.prototype.getExtremes=function(){var a=v.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;A(b)&&(this.valueMin=b);A(a)&&(this.valueMax=a);return v.prototype.getExtremes.call(this)};e.prototype.getValidPoints=
function(a,b){return v.prototype.getValidPoints.call(this,a,b,!0)};e.prototype.hasData=function(){return!!this.processedXData.length};e.prototype.init=function(){v.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=u(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;f.ellipse=f.circle};e.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},f=a.shapeArgs||{},e={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var h=d.states[b]||{};var g=
c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){e[a[0]]=(g[a[0]]||h[a[0]]||f[a[0]])+(g[a[0]+"Plus"]||h[a[0]+"Plus"]||0);e[a[1]]=f[a[1]]+(f[a[0]]-e[a[0]])/2})}return b?e:f};e.prototype.pointAttribs=function(a,b){var d=v.prototype.pointAttribs.call(this,a,b),f=this.options||{},e=this.chart.options.plotOptions||{},g=e.series||{},m=e.heatmap||{};e=a&&a.options.borderColor||f.borderColor||m.borderColor||g.borderColor;g=a&&a.options.borderWidth||f.borderWidth||m.borderWidth||
g.borderWidth||d["stroke-width"];d.stroke=a&&a.marker&&a.marker.lineColor||f.marker&&f.marker.lineColor||e||this.color;d["stroke-width"]=g;b&&(a=h(f.states[b],f.marker&&f.marker.states[b],a&&a.options.states&&a.options.states[b]||{}),b=a.brightness,d.fill=a.color||c.parse(d.fill).brighten(b||0).get(),d.stroke=a.lineColor);return d};e.prototype.setClip=function(a){var b=this.chart;v.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?
b.sharedClips[this.sharedClipKey]:b.clipRect)};e.prototype.translate=function(){var a=this.options,b=a.marker&&a.marker.symbol||"rect",c=f[b]?b:"rect",d=-1!==["circle","square"].indexOf(c);this.generatePoints();this.points.forEach(function(a){var e=a.getCellAttributes(),g={};g.x=Math.min(e.x1,e.x2);g.y=Math.min(e.y1,e.y2);g.width=Math.max(Math.abs(e.x2-e.x1),0);g.height=Math.max(Math.abs(e.y2-e.y1),0);var m=a.hasImage=0===(a.marker&&a.marker.symbol||b||"").indexOf("url");if(d){var l=Math.abs(g.width-
g.height);g.x=Math.min(e.x1,e.x2)+(g.width<g.height?0:l/2);g.y=Math.min(e.y1,e.y2)+(g.width<g.height?l/2:0);g.width=g.height=Math.min(g.width,g.height)}l={plotX:(e.x1+e.x2)/2,plotY:(e.y1+e.y2)/2,clientX:(e.x1+e.x2)/2,shapeType:"path",shapeArgs:h(!0,g,{d:f[c](g.x,g.y,g.width,g.height)})};m&&(a.marker={width:g.width,height:g.height});r(a,l)});y(this,"afterTranslate")};e.defaultOptions=h(d.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=
this.series.chart.numberFormatter,b=this.point.value;return A(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}});return e}(d);r(k.prototype,{alignDataLabel:a.prototype.alignDataLabel,axisTypes:g.axisTypes,colorKey:"value",directTouch:!0,drawLegendSymbol:n.drawRectangle,
getExtremesFromAll:!0,getSymbol:v.prototype.getSymbol,parallelArrays:g.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:g.trackerGroups});p.compose(k);t.registerSeriesType("heatmap",k);"";"";return k});x(c,"Extensions/GeoJSON.js",[c["Core/Chart/Chart.js"],c["Core/FormatUtilities.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,p,q,n){function t(b,a){var c,e=!1,g=b.x,m=b.y;b=0;for(c=a.length-1;b<a.length;c=b++){var k=a[b][1]>m;var h=a[c][1]>m;k!==h&&g<(a[c][0]-a[b][0])*
(m-a[b][1])/(a[c][1]-a[b][1])+a[b][0]&&(e=!e)}return e}var k=p.format,e=q.win,b=n.error,g=n.extend,v=n.merge;p=n.wrap;"";c.prototype.transformFromLatLon=function(c,a){var d=this.options.chart.proj4||e.proj4;if(!d)return b(21,!1,this),{x:0,y:null};var f=a.jsonmarginX;f=void 0===f?0:f;var g=a.jsonmarginY;g=void 0===g?0:g;var m=a.jsonres;m=void 0===m?1:m;var k=a.scale;k=void 0===k?1:k;var h=a.xoffset;h=void 0===h?0:h;var n=a.xpan;n=void 0===n?0:n;var p=a.yoffset;p=void 0===p?0:p;var q=a.ypan;q=void 0===
q?0:q;c=d(a.crs,[c.lon,c.lat]);d=a.cosAngle||a.rotation&&Math.cos(a.rotation);var l=a.sinAngle||a.rotation&&Math.sin(a.rotation);a=a.rotation?[c[0]*d+c[1]*l,-c[0]*l+c[1]*d]:c;return{x:((a[0]-h)*k+n)*m+f,y:-(((p-a[1])*k+q)*m-g)}};c.prototype.transformToLatLon=function(c,a){if(!this.options.chart.proj4&&!e.proj4)b(21,!1,this);else if(null!==c.y){var d=a.jsonmarginX,f=a.jsonmarginY,g=a.jsonres;g=void 0===g?1:g;var k=a.scale;k=void 0===k?1:k;var m=a.xoffset,h=a.xpan,n=a.yoffset,p=a.ypan;c={x:((c.x-(void 0===
d?0:d))/g-(void 0===h?0:h))/k+(void 0===m?0:m),y:((c.y-(void 0===f?0:f))/g+(void 0===p?0:p))/k+(void 0===n?0:n)};d=a.cosAngle||a.rotation&&Math.cos(a.rotation);f=a.sinAngle||a.rotation&&Math.sin(a.rotation);a=e.proj4(a.crs,"WGS84",a.rotation?{x:c.x*d+c.y*-f,y:c.x*f+c.y*d}:c);return{lat:a.y,lon:a.x}}};c.prototype.fromPointToLatLon=function(c){var a=this.mapTransforms;if(a){for(var d in a)if(Object.hasOwnProperty.call(a,d)&&a[d].hitZone&&t(c,a[d].hitZone.coordinates[0]))return this.transformToLatLon(c,
a[d]);return this.transformToLatLon(c,a["default"])}b(22,!1,this)};c.prototype.fromLatLonToPoint=function(c){var a=this.mapTransforms,d;if(!a)return b(22,!1,this),{x:0,y:null};for(d in a)if(Object.hasOwnProperty.call(a,d)&&a[d].hitZone){var e=this.transformFromLatLon(c,a[d]);if(t(e,a[d].hitZone.coordinates[0]))return e}return this.transformFromLatLon(c,a["default"])};q.geojson=function(b,a,c){void 0===a&&(a="map");var d=[];b.features.forEach(function(b){var c=b.geometry||{},e=c.type;c=c.coordinates;
b=b.properties;var f;"map"!==a&&"mapbubble"!==a||"Polygon"!==e&&"MultiPolygon"!==e?"mapline"!==a||"LineString"!==e&&"MultiLineString"!==e?"mappoint"===a&&"Point"===e&&c.length&&(f={geometry:{coordinates:c,type:e}}):c.length&&(f={geometry:{coordinates:c,type:e}}):c.length&&(f={geometry:{coordinates:c,type:e}});f&&d.push(g(f,{name:b.name||b.NAME,properties:b}))});c&&b.copyrightShort&&(c.chart.mapCredits=k(c.chart.options.credits.mapText,{geojson:b}),c.chart.mapCreditsFull=k(c.chart.options.credits.mapTextFull,
{geojson:b}));return d};p(c.prototype,"addCredits",function(b,a){a=v(!0,this.options.credits,a);this.mapCredits&&(a.href=null);b.call(this,a);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})});x(c,"masters/modules/map.src.js",[c["Core/Globals.js"],c["Core/Axis/Color/ColorAxis.js"],c["Series/MapBubble/MapBubbleSeries.js"],c["Core/Chart/MapChart.js"]],function(c,p,q,n){c.ColorAxis=p;c.MapChart=n;c.mapChart=c.Map=n.mapChart;c.maps=n.maps;p.compose(c.Chart,c.Fx,c.Legend,
c.Series);q.compose(c.Chart,c.Legend,c.Series)})});
//# sourceMappingURL=map.js.map